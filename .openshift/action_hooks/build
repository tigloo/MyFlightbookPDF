if [ ! -d "$OPENSHIFT_REPO_DIR/openshift-origin-cartridge-texlive-master" ]; then
  mkdir $OPENSHIFT_REPO_DIR/openshift-origin-cartridge-texlive-master
  echo TeXLive: Downloading...
  curl -L -o $OPENSHIFT_REPO_DIR/openshift-origin-cartridge-texlive-master/install-tl-unx.tar.gz http://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz
  echo TeXLive: Unpacking...
  pushd $OPENSHIFT_REPO_DIR/openshift-origin-cartridge-texlive-master
  tar zxvf install-tl-unx.tar.gz > /dev/null
  rm install-tl-unx.tar.gz
  echo TeXLive: Running installer...
  */install-tl --profile=$OPENSHIFT_REPO_DIR/.openshift/action_hooks/texlive.profile
  #echo TeXLive: Fixing tlmgr backup directory
  #mkdir $OPENSHIFT_REPO_DIR/openshift-origin-cartridge-texlive-master/tlpkg/backups
  echo TeXLive: Switching to nearest CTAN mirror...
  $OPENSHIFT_REPO_DIR/openshift-origin-cartridge-texlive-master/bin/x86_64-linux/tlmgr option repository http://mirror.ctan.org/systems/texlive/tlnet
  echo TeXLive: Updating package manager...
  $OPENSHIFT_REPO_DIR/openshift-origin-cartridge-texlive-master/bin/x86_64-linux/tlmgr update --self
  echo TeXLive: Installing texliveonfly...
  $OPENSHIFT_REPO_DIR/openshift-origin-cartridge-texlive-master/bin/x86_64-linux/tlmgr install texliveonfly
  echo TeXLive: Installing other required packages...
  $OPENSHIFT_REPO_DIR/openshift-origin-cartridge-texlive-master/bin/x86_64-linux/tlmgr install luatex lualibs xetex xetex-def euenc fontspec iftex kastrup l3kernel l3packages luaotfload ucharcat unicode-math etoolbox filehook lualatex-math xunicode xits fontspec gnu-freefont polyglossia
  popd  
  echo TeXLive: Done!
fi

echo Installing Python package unicodecsv...
pip install unicodecsv
